# Mi AI Service - Environment Configuration
# ========================================

# Supabase Configuration (REQUIRED)
# Get these from your Supabase project settings
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_SERVICE_KEY=your-service-role-key-here

# GitHub Configuration (Optional - for private repos)
# Generate at https://github.com/settings/tokens
GITHUB_TOKEN=your-github-personal-access-token

# Service Configuration  
SERVICE_NAME=Mi AI Service
SERVICE_VERSION=2.0.0
SERVICE_PORT=8000
SERVICE_HOST=0.0.0.0

# Image Generation Settings
MAX_IMAGE_SIZE=1024
MIN_IMAGE_SIZE=512
DEFAULT_IMAGE_SIZE=1024
GENERATION_TIMEOUT=300
MAX_CONCURRENT_GENERATIONS=3

# Quality Presets
QUALITY_FAST_STEPS=20
QUALITY_NORMAL_STEPS=30  
QUALITY_PREMIUM_STEPS=50
DEFAULT_CFG_SCALE=8.0

# File Storage
OUTPUTS_DIR=/tmp/generated_images
TEMP_DIR=/tmp/mi-ai-temp
BACKUP_DIR=/workspace/backups
LOGS_DIR=/workspace/logs

# Cache Settings
IMAGE_CACHE_SIZE_MB=500
TASK_CACHE_SIZE=1000
CLEANUP_INTERVAL_HOURS=6

# Git Sync Settings
GIT_SYNC_ENABLED=true
GIT_SYNC_INTERVAL=300
GIT_BACKUP_INTERVAL=3600
GIT_AUTO_RESTART=true

# Performance Settings
WORKER_PROCESSES=1
WORKER_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=2

# Logging Settings
LOG_LEVEL=INFO
LOG_FORMAT=detailed
MAX_LOG_SIZE_MB=50
LOG_BACKUP_COUNT=5

# Security Settings  
ALLOWED_ORIGINS=*
RATE_LIMIT_PER_MINUTE=10
RATE_LIMIT_PER_HOUR=100
MAX_PROMPT_LENGTH=500
REQUIRE_AUTH=false

# Monitoring Settings
HEALTH_CHECK_INTERVAL=30
COLLECT_METRICS=true
PROMETHEUS_PORT=9090
ALERT_GPU_MEMORY_THRESHOLD=90
ALERT_QUEUE_SIZE_THRESHOLD=10

# Arabic Style Settings
ARABIC_ARCHITECTURE_ENABLED=true
ARABIC_GOLDEN_ENABLED=true  
ARABIC_PATTERNS_ENABLED=true
ARABIC_CALLIGRAPHY_ENABLED=true
ARABIC_RAMADAN_ENABLED=true

# Advanced AI Settings (Optional)
USE_SAFETY_CHECKER=true
GPU_MEMORY_FRACTION=0.8
MODEL_CACHE_DIR=/workspace/models
ENABLE_MODEL_OFFLOAD=false
USE_HALF_PRECISION=true

# Development Settings
DEBUG_MODE=false
DEV_RELOAD=false
API_DOCS_ENABLED=true
CORS_ALLOW_ALL=true

# Backup Settings
BACKUP_ENABLED=true
BACKUP_KEEP_IMAGES=20
BACKUP_KEEP_CONFIGS=10
BACKUP_KEEP_LOGS=5
BACKUP_COMPRESSION=true

# Supabase Table Settings
GENERATIONS_TABLE=generations
USERS_TABLE=users  
STORAGE_BUCKET=generated-images
RLS_ENABLED=true

# Error Handling
MAX_RETRIES=3
RETRY_DELAY=1
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=300

# Webhook Settings (Optional)
WEBHOOK_URL=
WEBHOOK_SECRET=
WEBHOOK_EVENTS=generation.completed,generation.failed
